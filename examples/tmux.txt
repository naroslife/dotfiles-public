# Tmux Examples

Note: Default prefix key is Ctrl+b (shown as <prefix>)

## Session Management

### Create new session
tmux

### Create session with name
tmux new -s mysession

### Create detached session
tmux new -s mysession -d

### List sessions
tmux ls

### Attach to session
tmux attach -t mysession

### Attach to last session
tmux attach

### Detach from session
<prefix> d

### Kill session
tmux kill-session -t mysession

### Kill all sessions
tmux kill-server

### Rename session
<prefix> $

### Switch between sessions
<prefix> s

### Next session
<prefix> )

### Previous session
<prefix> (

## Window Management

### Create new window
<prefix> c

### Close current window
<prefix> &

### List windows
<prefix> w

### Rename window
<prefix> ,

### Next window
<prefix> n

### Previous window
<prefix> p

### Switch to window by number
<prefix> 0-9

### Last active window
<prefix> l

### Find window
<prefix> f

### Move window
<prefix> .

### Swap windows
tmux swap-window -s 1 -t 2

## Pane Management

### Split horizontally
<prefix> "

### Split vertically
<prefix> %

### Close pane
<prefix> x

### Navigate between panes
<prefix> arrow-key

### Navigate to next pane
<prefix> o

### Navigate to previous pane
<prefix> ;

### Show pane numbers
<prefix> q

### Switch to pane by number
<prefix> q <number>

### Toggle pane zoom
<prefix> z

### Resize pane left
<prefix> <C-arrow-left>

### Resize pane right
<prefix> <C-arrow-right>

### Resize pane up
<prefix> <C-arrow-up>

### Resize pane down
<prefix> <C-arrow-down>

### Move pane to new window
<prefix> !

### Rotate panes
<prefix> <C-o>

### Swap panes
<prefix> {  # swap with previous
<prefix> }  # swap with next

### Toggle pane layouts
<prefix> <space>

### Break pane to new window
<prefix> !

### Join pane from another window
tmux join-pane -s 2:1

## Copy Mode

### Enter copy mode
<prefix> [

### Exit copy mode
q

### Start selection
<space>

### Copy selection
<enter>

### Paste buffer
<prefix> ]

### List paste buffers
<prefix> =

### Navigate in copy mode
h, j, k, l  # vim-style
arrow keys  # arrow navigation

### Search forward
/

### Search backward
?

### Next search result
n

### Previous search result
N

### Go to top
g

### Go to bottom
G

### Page up
<C-b>

### Page down
<C-f>

## Command Mode

### Enter command mode
<prefix> :

### Create new window
:new-window -n windowname

### Split window
:split-window

### Kill pane
:kill-pane

### Resize pane
:resize-pane -D 10  # down 10 lines
:resize-pane -U 10  # up 10 lines
:resize-pane -L 10  # left 10 columns
:resize-pane -R 10  # right 10 columns

### Set option
:set -g option value

### Show options
:show-options -g

## Configuration

### Reload configuration
<prefix> r  (if configured)
tmux source-file ~/.tmux.conf

### Common .tmux.conf settings

# Change prefix to Ctrl+a
unbind C-b
set -g prefix C-a
bind C-a send-prefix

# Enable mouse support
set -g mouse on

# Start windows and panes at 1
set -g base-index 1
setw -g pane-base-index 1

# Split panes with | and -
bind | split-window -h
bind - split-window -v

# Reload config with r
bind r source-file ~/.tmux.conf \; display "Reloaded!"

# Vi mode
setw -g mode-keys vi

# Increase history limit
set -g history-limit 10000

# Enable 256 colors
set -g default-terminal "screen-256color"

# Status bar customization
set -g status-bg black
set -g status-fg white
set -g status-left '#[fg=green]#S'

## Advanced Features

### Create session with layout
tmux new -s mysession \; split-window -h \; split-window -v

### Send keys to pane
tmux send-keys -t mysession:1.1 "ls" Enter

### Capture pane content
tmux capture-pane -t mysession:1.1 -p > output.txt

### Set pane title
<prefix> : select-pane -T "My Pane Title"

### Synchronize panes
<prefix> :setw synchronize-panes on

### Set window option
tmux set-window-option -t mysession:1 monitor-activity on

### Create nested sessions
tmux -L socket-name

### Attach to specific socket
tmux -L socket-name attach

## Scripting

### Create session script
#!/bin/bash
tmux new-session -d -s dev
tmux split-window -h -t dev
tmux split-window -v -t dev:1.1
tmux send-keys -t dev:1.1 "vim" Enter
tmux send-keys -t dev:1.2 "npm run dev" Enter
tmux attach -t dev

### Check if session exists
tmux has-session -t mysession 2>/dev/null

if [ $? != 0 ]; then
  tmux new-session -s mysession
else
  tmux attach -t mysession
fi

### List windows programmatically
tmux list-windows -t mysession

### List panes programmatically
tmux list-panes -t mysession:1

## Layouts

### Predefined layouts
even-horizontal  # Panes evenly distributed horizontally
even-vertical    # Panes evenly distributed vertically
main-horizontal  # Large pane on top
main-vertical    # Large pane on left
tiled            # Panes in grid

### Apply layout
tmux select-layout -t mysession:1 main-vertical

### Cycle through layouts
<prefix> <space>

## Plugin Manager (TPM)

### Install TPM
git clone https://github.com/tmux-plugins/tpm ~/.tmux/plugins/tpm

### Add to .tmux.conf
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
run '~/.tmux/plugins/tpm/tpm'

### Install plugins
<prefix> I

### Update plugins
<prefix> U

### Uninstall plugins
<prefix> alt+u

## Popular Plugins

### tmux-resurrect (save/restore sessions)
set -g @plugin 'tmux-plugins/tmux-resurrect'
# Save: <prefix> Ctrl+s
# Restore: <prefix> Ctrl+r

### tmux-continuum (automatic save)
set -g @plugin 'tmux-plugins/tmux-continuum'
set -g @continuum-restore 'on'

### tmux-yank (better copy)
set -g @plugin 'tmux-plugins/tmux-yank'

### tmux-prefix-highlight
set -g @plugin 'tmux-plugins/tmux-prefix-highlight'

## Status Bar

### Show session name
set -g status-left '#S '

### Show hostname
set -g status-right '#H'

### Show date/time
set -g status-right '%Y-%m-%d %H:%M'

### Show pane title
set -g pane-border-status top
set -g pane-border-format "#{pane_index} #{pane_title}"

### Custom status bar
set -g status-left-length 20
set -g status-right-length 60
set -g status-left '#[fg=green]#S #[fg=white]| '
set -g status-right '#[fg=yellow]#(uptime | cut -d "," -f 3-) #[fg=white]| #[fg=cyan]%Y-%m-%d %H:%M'

## Troubleshooting

### Check tmux version
tmux -V

### Show all options
tmux show-options -g

### Show window options
tmux show-window-options -g

### Display messages
<prefix> ~

### Show key bindings
<prefix> ?

### List all key bindings
tmux list-keys

### Verify config syntax
tmux source-file ~/.tmux.conf

## Tips and Tricks

### Quick session switcher
<prefix> s  # Interactive session list

### Rename session on creation
tmux new -s "project-$(date +%Y%m%d)"

### Auto-rename windows
setw -g automatic-rename on

### Activity monitoring
setw -g monitor-activity on

### Visual notification
set -g visual-activity on

### Aggressive resize
setw -g aggressive-resize on

### Copy to system clipboard (Linux)
bind -T copy-mode-vi y send-keys -X copy-pipe-and-cancel 'xclip -in -selection clipboard'

### Copy to system clipboard (macOS)
bind -T copy-mode-vi y send-keys -X copy-pipe-and-cancel 'pbcopy'

### Enable focus events
set -g focus-events on

### Set terminal title
set -g set-titles on
set -g set-titles-string '#S:#I.#P #W'

## Integration

### SSH with tmux
ssh user@host -t "tmux attach || tmux new"

### Launch tmux on login (add to .bashrc/.zshrc)
if command -v tmux &> /dev/null && [ -n "$PS1" ] && [[ ! "$TERM" =~ screen ]] && [[ ! "$TERM" =~ tmux ]] && [ -z "$TMUX" ]; then
  exec tmux
fi

### Use with Docker
docker run -it --rm tmux

### Remote pair programming
tmux -S /tmp/pair new -s pair
chmod 777 /tmp/pair
# Other user: tmux -S /tmp/pair attach -t pair

## Common Workflows

### Development environment
tmux new -s dev -n editor
tmux split-window -h -t dev
tmux split-window -v -t dev:1.2
tmux send-keys -t dev:1.1 "vim" Enter
tmux send-keys -t dev:1.2 "git status" Enter
tmux send-keys -t dev:1.3 "npm run dev" Enter

### Monitoring dashboard
tmux new -s monitor -n system
tmux send-keys "htop" Enter
tmux split-window -h
tmux send-keys "watch -n 1 df -h" Enter
tmux split-window -v
tmux send-keys "tail -f /var/log/syslog" Enter

### Multi-server management
tmux new -s servers
tmux split-window -h
tmux split-window -v
tmux select-pane -t 1
tmux split-window -v
tmux setw synchronize-panes on
tmux send-keys "ssh server1" Enter
# Repeat for other panes with different servers

## Performance

### Reduce status update interval
set -g status-interval 5

### Limit scrollback
set -g history-limit 5000

### Disable status bar
set -g status off

### Fast escape time
set -sg escape-time 0

### Repeat time
set -g repeat-time 500
